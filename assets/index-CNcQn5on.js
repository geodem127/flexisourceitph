import{R as c,u as p,a as h,r as f,j as r,T as g}from"./index-C_JhfKgS.js";import{c as x,a as i,u as w,F as v,b}from"./index.esm-BMkS_Od-.js";import{L as j}from"./LoadingButton-C80U3qCq.js";import{C as y}from"./Container-CJQxRDjI.js";import{P as C}from"./Modal-Doskrgoq.js";import{T as l}from"./TextField-Ct6bkKhg.js";const F=x({username:i().required("Required"),password:i().required("Required")}),k=()=>{const[u,d]=c.useState(""),{isAuthenticated:o,userLogin:m,loading:s}=p(),t=h(),e=w({initialValues:{username:"",password:""},validationSchema:F,onSubmit:async()=>{var n;const a=await m(e.values.username,e.values.password);(a==null?void 0:a.status)==="failed"&&d((n=a==null?void 0:a.data)==null?void 0:n.name)}});return f.useEffect(()=>{!s&&o&&t("/")},[o,s,t]),r.jsx(y,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh"},children:r.jsx(v,{value:e,children:r.jsx(b,{autoComplete:"off",noValidate:!0,className:"studentForm",onSubmit:a=>{a.preventDefault(),e.handleSubmit(a)},children:r.jsxs(C,{elevation:3,sx:{width:"500px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"stretch",rowGap:"2rem",padding:"5rem"},children:[r.jsx(l,{id:"username",name:"username",label:"Username",error:!!(e.touched.username&&e.errors.username),value:e.values.username,onChange:e.handleChange,onBlur:e.handleBlur,helperText:e.touched.username&&e.errors.username}),r.jsx(l,{id:"password",name:"password",label:"Password",type:"password",error:!!(e.touched.password&&e.errors.password),value:e.values.password,onChange:e.handleChange,onBlur:e.handleBlur,helperText:e.touched.password&&e.errors.password}),r.jsx(g,{variant:"p",color:"error",my:0,children:u}),r.jsx(j,{type:"button",variant:"contained",color:"primary",size:"large",className:"studentFormSubmit",disabled:s,isLoading:s,label:"Login",onClick:()=>{e.handleSubmit()}})]})})})})};export{k as default};
